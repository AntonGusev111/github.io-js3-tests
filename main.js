(()=>{"use strict";class e{validate(e){let t=Number(e[e.length-1]),r=e.split("").map(Number);console.log(r);let s=0;r=r.slice(0,-1),r=r.reverse();for(let[e,t]of r.entries())if(e%2!=0)s+=t;else{let e=2*t;e>9&&(e-=9),s+=e}return console.log((s+t)%10==0),(s+t)%10==0}definPaymentSystem(e){let t="";for(let r=0;r<6;r++){t+=e[r];let s=this.findInSystems(t);if(s)return s}}findInSystems(e){const t={diners:[300,301,302,303,304,305,36,54,55],visa:[4,4026,417500,4508,4844,4913,4917],discover:[6011,644,645,646,647,648,649,65],mir:[2],mastercard:[51,52,53,54,55],americanExpress:[34,37]};for(let r in t)for(let s in t[r])if(e==t[r][s])return String(r);return 622126<Number(e)&&Number(e)<622925?"discover1":222100<Number(e)&&Number(e)<272099?"mastercard1":3528<Number(e)&&Number(e)<3589?"jcb":void 0}}new class{constructor(){this.submit=document.querySelector(".btn"),this.validate=new e,this.inputsCheck()}inputsCheck(){let e=document.querySelector(".card_type");this.submit.addEventListener("click",(t=>{this.validate.validate(document.querySelector(".card_type").value)?(document.getElementsByClassName(String(this.validate.definPaymentSystem(document.querySelector(".card_type").value)))[0].classList.remove("fog"),e.style.background="green"):e.style.background="red"}))}}})();